{% extends 'base.html.twig' %}

{% block title %}CEC: Culture {% endblock %}

{% block body %}
<div class="row">
    <h1>Culture_id : CL_{{ culture.parcelle.id }}</h1>
</div>

<div class="row bkg-white">
    <h2>Information de base</h2>
    <table class="table table-hover table-fit">
        <tr>
            <td>Id_parcelle</td>
            <td>
                <a class="" href="{{ path('detail_parcelle', 
                        {'id': culture.parcelle.id}) }}">
                    PL_{{ culture.parcelle.id }}
                </a>
            </td>
        </tr>
        <tr>
            <td>Nouvelle Plantation</td>
            <td>
                {% if culture.nouvellePlantation == true %}
                    Oui
                {% else %}
                    Non
                {% endif %}
            </td>
        </tr>
        <tr>
            <td>Cycle Agricole : </td>
            <td>
                {% if culture.cycleAgricole is not null %}
                    {{ culture.cycleAgricole.nom }}
                {% endif %}
            </td>
        </tr>
        <tr>
            <td>Surface Cultivée</td>
            <td>{{ culture.surfaceCultive }}</td>
        </tr>
        <tr>
            <td>Precedent Cultural : </td>
            <td>
                {% if culture.precedentCultural is not null %}
                    {{ culture.precedentCultural.nom }}
                {% endif %}
            </td>
        </tr>

        <tr>
            <td>Systeme Cultural : </td>
            <td>
                {% if culture.systemeCultural is not null %}
                    {{ culture.systemeCultural.nom }}
                {% endif %}
            </td>
        </tr>

        <tr>
            <td>Itineraire Cultural : </td>
            <td>
                {% if culture.itineraireCultural is not null %}
                    {{ culture.itineraireCultural.nom }}
                {% endif %}
            </td>
        </tr>
        <tr>
            <td>MO Preparation Sol</td>
            <td>{{ culture.moPreparationSol }}</td>
        </tr>
        <tr>
            <td>MO Installation Culture</td>
            <td>{{ culture.moInstallationCulture }}</td>
        </tr>
        <tr>
            <td>MO Entretien 1</td>
            <td>{{ culture.moEntretien1 }}</td>
        </tr>
        <tr>
            <td>MO Entretien 2</td>
            <td>{{ culture.moEntretien2 }}</td>
        </tr>
        <tr>
            <td>MO Entretien 3</td>
            <td>{{ culture.moEntretien3 }}</td>
        </tr>
        <tr>
            <td>MO Recolte</td>
            <td>{{ culture.moRecolte }}</td>
        </tr>
        <tr>
            <td>MO Ext Preparation Sol</td>
            <td>{{ culture.moExtPreparationSol }}</td>
        </tr>
        <tr>
            <td>MO ExtInstallation Culture</td>
            <td>{{ culture.moExtInstallationCulture }}</td>
        </tr>
        <tr>
            <td>MO Ext Entretien 1</td>
            <td>{{ culture.moExtEntretien1 }}</td>
        </tr>
        <tr>
            <td>MO Ext Entretien 2</td>
            <td>{{ culture.moExtEntretien2 }}</td>
        </tr>
        <tr>
            <td>MO Ext Entretien 3</td>
            <td>{{ culture.moExtEntretien3 }}</td>
        </tr>
        <tr>
            <td>MO Ext Recolte</td>
            <td>{{ culture.moExtRecolte }}</td>
        </tr>
        
        <tr>
            <td>Date de Plantation</td>
            <td>{{ culture.datePlantation | date("m/d/Y")  }}</td>
        </tr>

        <tr>
            <td>Age Plantation : </td>
            <td>{{ culture.agePlantation }}</td>
        </tr>

        <tr>
            <td>Qte Fumure Organique</td>
            <td>{{ culture.qteFumureOrganique }}</td>
        </tr>

        {% for fumure in culture.nbrFumureCultureMs %}
            <tr>
                <td>{{ fumure.fumure.nom }} : </td>
                <td>{{ fumure.nbr }}</td>
            </tr>
        {% endfor %}

        <tr>
            <td>Qte Insecticide</td>
            <td>{{ culture.qteInsecticide }}</td>
        </tr>
        {% for insecticide in culture.nbrInsecticideCultureMs %}
            <tr>
                <td>{{ insecticide.insecticide.nom }} : </td>
                <td>{{ insecticide.nbr }}</td>
            </tr>
        {% endfor %}
        
        <tr>
            <td>Mis en Cloture</td>
            <td>
                {% if culture.misEnCloture == true %}
                    Oui
                {% else %}
                    Non
                {% endif %}
            </td>
        </tr>

    </table>
</div>
<br>
<div class="row bkg-white fit">
    <h2>Cultures composants</h2>
    <table class="table table-fit table-hover">
        <tr>
            <th>Plante</th>
            <th>Variété</th>
            <th>Date de plantation</th>
            <th>Qté de semence</th>
            <th>Production</th>
        </tr>
        {% for cle in culture.cultureFilles %}
        <tr>
            <td>
                {% if cle.plante is not null %}
                    {{ cle.plante.nom }}
                {% endif %}
            </td>
            <td>
                {% if cle.variete is not null %}
                    {{ cle.variete.nom }}
                {% endif %}
            </td>
            <td>{{ cle.datePlantation | date("m/d/Y") }}</td>
            <td>{{ cle.QteSemence }}</td>
            <td>{{ cle.production }}</td>
        </tr>
        {% endfor %}
    </table>
</div>
<div class="row bkg-white">
    <hr>

    <a class="" href="{{ path('ajout_culture_fille_from_mere', {'idCultureMere': culture.id}) }}">
        <button class="btn btn-primary">Ajouter</button>
    </a>

    <hr>
</div>

{% endblock %}
